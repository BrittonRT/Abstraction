// Abstraction Builder v.1.0.8 Beta - Abstract Method © 2009-2011. "Abstraction" is a trademark of Abstract Method //
var $window=$(window),$document=$(document),mouse=[];window.activeWindow;window.windows=[];window.windowClasses=["window"];window.globalZ=1000;window.leftbar=[];window.rightbar=[];window.maximizedWindows=[];$(document).ready(function(){$document.bind("mouseup",function(a){window.activeWindow.stopDrag.call(window.activeWindow,a);window.activeWindow.stopResize.call(window.activeWindow,a);$(".ui-window-iframeCover").remove()})});var Window=(function(){function a(){var c=this;c.activeOptions={};c.draggableOptions={};c.resizableOptions={};c.droppableOptions={};c.mouse=[];c.getMousePosition;c.icon;c.handle;c.isDragging=false;c.isResizing=false;c.isMinimized=false;c.isMaximized=false;c.isAttached=false;c.isClosed=false;c.attachedTo;c.original={};c.status="idle";c.dragTimer;c.ready=false;c.dockable=true;if(arguments.length==0){return false}for(var b=0;b<arguments.length;b++){if(typeof arguments[b]=="object"&&typeof arguments[b]!==null&&arguments[b]["members"]===undefined&&arguments[b].nodeName===undefined){c.options(arguments[b])}else{switch(b){case 0:c.selector=arguments[0];c.$=c.jquery=$(c.selector);break;case 1:c.title=arguments[1];break;case 2:if(arguments[2]!=undefined){c.addToTaskbar(arguments[2])}break}}}if(c.selector==undefined){return false}else{if(typeof c.selector!="string"){if(c.$.attr("id")==""){c.$.attr("id","win-id-"+window.windows.length)}c.selector="#"+c.$.attr("id")}}}a.prototype.width=function(b){var c=this;if(b==undefined){return c._width}c._width=b;if(!c.isMaximized&&!c.isAttached){c.$.width(c._width)}return c};a.prototype.height=function(b){var c=this;if(b==undefined){return c._height}c._height=b;if(!c.isMaximized){c.$.height(c._height)}return c};a.prototype.left=function(b){var c=this;if(b==undefined){return c._left}c._left=b;if(!c.isMaximized){c.$.css({right:"",left:c._left+"px"})}return c};a.prototype.top=function(b){var c=this;if(b==undefined){return c._top}c._top=b;if(!c.isMaximized){c.$.css({bottom:"",top:c._top+"px"})}return c};a.prototype.options=function(c){var b=this;if(!b.ready){window.windows.push(b);b.ready=true}if(c==undefined){return b.activeOptions}if(b.$!=undefined){b.$.draggable("destroy")}b.setOptions(c)};a.prototype.setOptions=function(c){var b=this;$.extend(b.activeOptions,c);if(b.activeOptions.selector!=undefined){b.selector=b.activeOptions.selector;b.$=b.jquery=$(b.selector);if(b.original!={}){b.original={position:b.$.css("position"),top:b.$.css("top"),left:b.$.css("left"),bottom:b.$.css("bottom"),right:b.$.css("right"),width:b.$.css("width"),height:b.$.css("height"),zIndex:b.$.css("z-index")}}}b.$parent=b.$.parent();b.parent=b.$parent.get(0);if(b.activeOptions.title!=undefined){b.title=b.activeOptions.title;if(b.taskbar!=undefined){b.taskbar.refresh()}}if(b.activeOptions.content!=undefined){b.$.html(b.activeOptions.content)}if(b.activeOptions.width!=undefined){b.width(b.activeOptions.width)}if(b.activeOptions.height!=undefined){b.height(b.activeOptions.height)}if(b.activeOptions.left!=undefined){b.left(b.activeOptions.left)}if(b.activeOptions.top!=undefined){b.top(b.activeOptions.top)}if(b.activeOptions.attachedWidth!=undefined){b.attachedWidth=b.activeOptions.attachedWidth}else{b.attachedWidth=200}if(b.activeOptions.taskbar!=undefined){if(b.taskbar!==b.activeOptions.taskbar){b.addToTaskbar(b.activeOptions.taskbar)}}if(b.activeOptions.maximized=="true"){b.maximize(true)}if(b.activeOptions.minimized=="true"){b.minimize(true)}var d="window";if(b.activeOptions.containment!=undefined){d=b.activeOptions.containment}window.globalZ++;if(!b.$.hasClass("window")){b.$.addClass("window")}b.$.data("window",b);b.addHandle();b.$shadows=addShadows(b.selector);b.addJQueryUI();if(b._width==undefined){b._width=b.$.width()}if(b._height==undefined){b._height=b.$.height()}if(b._left==undefined){b._left=0}if(b._top==undefined){b._top=0}};a.prototype.checkBounds=function(g){var f=this;f.parentWidth=f.$parent.width();f.parentHeight=f.$parent.height();var h=f.$parent.offset();f.parentLeftBound=h.left;f.parentRightBound=h.left+f.parentWidth;f.parentTopBound=h.top;f.parentBottomBound=h.bottom;var d=f.left(),c=parseInt(d)+parseInt(f.width());if(d<=f.parentLeftBound){if(!f.isAttached){f.$.css({width:f.attachedWidth,height:f.parentHeight-51}).addClass("ui-leftbar-attached");f.left(f.parentLeftBound);f.top(f.parentTopBound+20);f.isAttached=true;if(f.$shadows){f.$shadows.remove();f.$shadows=null}window.leftbar[window.leftbar.length]=f;var b=window.maximizedWindows.length;while(b--){window.maximizedWindows[b].maximize(true)}}}else{if(c>=f.parentRightBound){if(!f.isAttached){f.$.css({width:f.attachedWidth,height:f.parentHeight-51}).addClass("ui-rightbar-attached");f.left(f.parentRightBound-f.attachedWidth-2);f.top(f.parentTopBound+20);f.isAttached=true;if(f.$shadows){f.$shadows.remove();f.$shadows=null}window.rightbar[window.rightbar.length]=f;var b=window.maximizedWindows.length;while(b--){window.maximizedWindows[b].maximize(true)}}}}};a.prototype.startDrag=function(c){var b=this,c=c||window.event,g=0,f=0,d;if(c.pageX||c.pageY){g=c.pageX;f=c.pageY;b.getMousePosition=pageMousePosition}else{if(c.clientX||c.clientY){g=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;f=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;b.getMousePosition=clientMousePosition}}b.mouse[0]=g-b.left();b.mouse[1]=f-b.top();disableSelection(b);b.getMousePosition(c);b.parentWidth=b.$parent.width();b.parentHeight=b.$parent.height();d=b.$parent.offset();b.parentLeftBound=d.left;b.parentRightBound=d.left+b.parentWidth;b.parentTopBound=d.top;b.parentBottomBound=d.bottom;$document.bind("mousemove.handle",function(h){b.drag.call(b,h)});if(typeof b.activeOptions.dragstart=="function"){b.activeOptions.dragstart.call(b)}};a.prototype.drag=function(g){var f=this,g=g||window.event,d,c;f.getMousePosition(g);d=window.mouse[0]-f.mouse[0];newRight=parseInt(d)+parseInt(f._width);c=window.mouse[1]-f.mouse[1];if(f.dockable&&d<=f.parentLeftBound){if(!f.isAttached){f.$.css({width:f.attachedWidth,height:f.parentHeight-51}).addClass("ui-leftbar-attached");f.left(f.parentLeftBound);f.top(f.parentTopBound+20);f.isAttached=true;f.$shadows.remove();f.$shadows=null;window.leftbar[window.leftbar.length]=f}}else{if(f.dockable&&newRight>=f.parentRightBound){if(!f.isAttached){f.$.css({width:f.attachedWidth,height:f.parentHeight-51}).addClass("ui-rightbar-attached");f.left(f.parentRightBound-f.attachedWidth-2);f.top(f.parentTopBound+20);f.isAttached=true;f.$shadows.remove();f.$shadows=null;window.rightbar[window.rightbar.length]=f}}else{if(f.isAttached){f.isAttached=false;f.$.removeClass("ui-leftbar-attached ui-rightbar-attached");var b=window.leftbar.length;while(b--){if(window.leftbar[b]===f){window.leftbar.splice(b,1)}}var b=window.rightbar.length;while(b--){if(window.rightbar[b]===f){window.rightbar.splice(b,1)}}var b=window.maximizedWindows.length;while(b--){window.maximizedWindows[b].maximize(true)}}f.left(d);f.top(c);f.width(f._width);f.height(f._height);if(!f.$shadows){f.$shadows=addShadows(f.selector)}}}};a.prototype.stopDrag=function(d){var c=this,d=d||window.event;if(c.isAttached){var b=window.maximizedWindows.length;while(b--){window.maximizedWindows[b].maximize(true)}}enableSelection(c);$document.unbind("mousemove.handle");if(typeof c.activeOptions.dragstop=="function"){c.activeOptions.dragstop}};a.prototype.startResize=function(c){var b=this,c=c||window.event,f=0,d=0;if(c.pageX||c.pageY){f=c.pageX;d=c.pageY;b.getMousePosition=pageMousePosition}else{if(c.clientX||c.clientY){f=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;d=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;b.getMousePosition=clientMousePosition}}b.mouse[0]=f;b.mouse[1]=d;b.getMousePosition(c);$document.bind("mousemove.resize",function(g){b.resize.call(b,g)});if(typeof b.activeOptions.resizestart=="function"){b.activeOptions.resizestart.call(b)}};a.prototype.resize=function(c){var b=this,c=c||window.event;b.getMousePosition(c);b.width(parseInt(b.width())+(window.mouse[0]-b.mouse[0]));b.height(parseInt(b.height())+(window.mouse[1]-b.mouse[1]));b.mouse[0]=window.mouse[0];b.mouse[1]=window.mouse[1]};a.prototype.stopResize=function(c){var b=this,c=c||window.event;$document.unbind("mousemove.resize");if(typeof b.activeOptions.resizestop=="function"){b.activeOptions.resizestop.call(b)}};a.prototype.addJQueryUI=function(){var b=this;b.removeJQueryUI();b.$resizeHandle=$("<div/>").addClass("ui-resizeWindow-se ui-resizeWindow-handle").bind("mousedown.resize",function(c){b.startResize.call(b,c);b.focus();return false}).appendTo(b.$);b.$.bind("mousedown.focus",function(){b.focus()}).find(".ui-resizeWindow-se").mousedown(function(){$(this).css({width:"10000px",height:"10000px",bottom:"-4992px",right:"-4992px"})}).mouseup(function(){$(this).css({width:"15px",height:"15px",bottom:"0px",right:"0px"})}).end().find(".ui-resizeWindow-e").mousedown(function(){$(this).css({width:"10000px",height:"10000px",top:"-4992px",right:"-4992px"})}).mouseup(function(){$(this).css({width:"15px",height:"15px",top:"0px",right:"0px"})}).end().find(".ui-resizeWindow-s, .ui-resizeWindow-sw").mousedown(function(){$(this).css({width:"10000px",height:"10000px",bottom:"-4992px",left:"-4992px"})}).mouseup(function(){$(this).css({width:"15px",height:"15px",bottom:"0px",left:"0px"})})};a.prototype.removeJQueryUI=function(){this.$.unbind("mousedown",this.focus).draggable("destroy").resizable("destroy")};a.prototype.addHandle=function(){var c=this;this.removeHandle();if(this.title==undefined){if(this.$.text()!=""){this.title=this.$.text().substring(0,20)+"..."}else{this.title="Empty Window"}}var g=document.createElement("div");g.setAttribute("class","handle-extend");g.setAttribute("style","position: absolute; z-index: 10001;");var b=document.createElement("span");b.setAttribute("class","minimize-window");b.setAttribute("style","z-index: 10002;");b.appendChild(document.createTextNode("-"));$(b).bind("mousedown",function(h){h=window.event||h;if(h.stopPropagation){h.stopPropagation()}else{h.cancelBubble=true}}).bind("click",function(){c.minToggle()});var f=document.createElement("span");f.setAttribute("class","maximize-window");f.setAttribute("style","z-index: 10002;");f.appendChild(document.createTextNode("o"));$(f).bind("mousedown",function(h){h=window.event||h;if(h.stopPropagation){h.stopPropagation()}else{h.cancelBubble=true}}).bind("click",function(){c.maxToggle()});var e=document.createElement("span");e.setAttribute("class","close-window");e.setAttribute("style","z-index: 10002;");e.appendChild(document.createTextNode("x"));$(e).bind("mousedown",function(h){h=window.event||h;if(h.stopPropagation){h.stopPropagation()}else{h.cancelBubble=true}}).bind("click",function(){c.close()});this.handle=document.createElement("div");this.$handle=$(this.handle);this.handle.setAttribute("class","handle win-ui");this.handle.setAttribute("style","z-index: 10001;");this.handle.innerHTML=this.title;this.handle.appendChild(g);if(this.activeOptions.menu!=false){this.menu=this.activeOptions.menu;this.$.append(this.menu.fragment);this.$menu=this.$.find(".ui-menu").last();var d=document.createElement("span");d.setAttribute("class","open-menu");d.setAttribute("style","z-index: 10002;");d.appendChild(document.createTextNode("O"));$(d).bind("mousedown",function(h){h=window.event||h;if(h.stopPropagation){h.stopPropagation()}else{h.cancelBubble=true}}).bind("click",function(){c.activeOptions.openmenu.call(c)});this.$handle.prepend(d)}if(this.activeOptions.close!=false){this.handle.appendChild(e)}if(this.activeOptions.maximize!=false){this.handle.appendChild(f)}if(this.activeOptions.minimize!=false){this.handle.appendChild(b)}this.$handle.bind("mousedown.handle",function(m){var l=document.getElementsByTagName("iframe"),k,j=l.length,h;while(j--){k=$(l[j]);h=$("<div/>").css({position:"absolute",width:k.width(),height:k.height(),left:k.position().left,top:k.position().top,marginLeft:k.css("margin-left"),marginTop:k.css("margin-top")}).addClass("ui-window-iframeCover").appendTo(k.parent())}c.startDrag.call(c,m);c.focus();return false}).appendTo(this.selector)};a.prototype.removeHandle=function(){if(this.$handle){this.$handle.empty().remove()}};a.prototype.openMenu=function(){};a.prototype.setTitle=function(b){this.title=b;this.activeOptions.title=b;if(this.taskbar!=undefined){this.taskbar.refresh()}this.addHandle()};a.prototype.attachTo=function(c,b){if(b==undefined){b={}}this.$.appendTo(c);this.options(b);this.sizeSortableWindows()};a.prototype.minToggle=function(){if(this.isMinimized){this.unminimize()}else{this.minimize()}};a.prototype.minimize=function(c){var d=this;if(c){this.$.css({width:0,height:0,top:(this.taskbar==undefined)?$(window).height():$(this.taskbar.selector).offset().top,left:(this.taskbar==undefined)?0:$(this.taskbar.selector).offset().left,opacity:0}).addClass("win-ui-minimized")}else{this.$.animate({width:0,height:0,top:(this.taskbar==undefined)?$(window).height():$(this.taskbar.selector).offset().top,left:(this.taskbar==undefined)?0:$(this.taskbar.selector).offset().left,opacity:0},"fast",function(){if(typeof d.activeOptions.minimize=="function"){d.activeOptions.minimize.call(d)}}).addClass("win-ui-minimized")}if(d.isAttached){d.isAttached=false;var b=window.leftbar.length;while(b--){if(window.leftbar[b]===d){window.leftbar.splice(b,1)}}var b=window.rightbar.length;while(b--){if(window.rightbar[b]===d){window.rightbar.splice(b,1)}}var b=window.maximizedWindows.length;while(b--){window.maximizedWindows[b].maximize(true)}}this.isMinimized=true;this.activeOptions.minimized=true};a.prototype.unminimize=function(){var f=this;if(this.isMaximized){var b=window.leftbar.length,c=0,e=0;while(b--){var d=window.leftbar[b].$.outerWidth();if(d>c&&window.leftbar[b].$.css("display")!="none"){c=d}}b=window.rightbar.length;while(b--){var d=window.rightbar[b].$.outerWidth();if(d>e&&window.rightbar[b].$.css("display")!="none"){e=d}}this.$.animate({width:this.$.parent().width()-c-e-2,height:this.$.parent().height()-51,top:20,left:c,opacity:1},"fast",function(){f.checkBounds();if(typeof f.activeOptions.unminimize=="function"){f.activeOptions.unminimize.call(f)}}).removeClass("win-ui-minimized")}else{$(this.selector).animate({width:this._width,height:this._height,top:this._top,left:this._left,opacity:1},"fast",function(){f.checkBounds();if(typeof f.activeOptions.unminimize=="function"){f.activeOptions.unminimize.call(f)}}).removeClass("win-ui-minimized")}this.isMinimized=false;this.activeOptions.minimized=false;this.focus()};a.prototype.maxToggle=function(){if(this.isMaximized){this.unmaximize()}else{this.maximize()}};a.prototype.maximize=function(e){var h=this;if(h.isAttached){}else{var d=0,g=0,f,c;if(!h.isMaximized){window.maximizedWindows[window.maximizedWindows.length]=h}var b=window.leftbar.length;while(b--){f=window.leftbar[b].$.outerWidth();if(f>d&&window.leftbar[b].$.css("display")!="none"&&window.leftbar[b].isAttached){d=f}}var b=window.rightbar.length;while(b--){f=window.rightbar[b].$.outerWidth();if(f>g&&window.rightbar[b].$.css("display")!="none"&&window.rightbar[b].isAttached){g=f}}if(e){h.$.css({width:h.$.parent().width()-d-g-2,height:h.$.parent().height()-51,top:20,left:d})}else{h.$.animate({width:h.$.parent().width()-d-g-2,height:h.$.parent().height()-51,top:20,left:d},"fast",function(){if(typeof h.activeOptions.maximize=="function"){h.activeOptions.maximize.call(h)}})}h.$.addClass("win-ui-maximized").find(".shadow").remove();h.isMaximized=true;h.activeOptions.maximized=true}};a.prototype.unmaximize=function(){var c=this;if(c.isAttached){}else{var b=window.maximizedWindows.length;while(b--){if(window.maximizedWindows[b]===c){window.maximizedWindows.splice(b,1)}}c.$.animate({width:c._width,height:c._height,top:c._top,left:c._left},400,function(){if(typeof c.activeOptions.unmaximize=="function"){c.activeOptions.unmaximize.call(c)}}).removeClass("win-ui-maximized")}c.isMaximized=false;c.activeOptions.maximized=false;addShadows(c.selector)};a.prototype.addToTaskbar=function(b){b.addMember(this);this.taskbar=b};a.prototype.close=function(){this.isClosed=true;if(typeof this.activeOptions.close=="function"){this.activeOptions.close()}else{this.$.fadeOut("fast")}};a.prototype.open=function(){this.isClosed=false;this.$.fadeIn()};a.prototype.focus=function(){if(window.activeWindow!==this){window.activeWindow=this;$(".window, .ui-taskbar > span").removeClass("ui-window-active");this.$.addClass("ui-window-active");if(this.$taskbarTab){this.$taskbarTab.addClass("ui-window-active")}if(typeof this.activeOptions.focus=="function"){this.activeOptions.focus.call(this)}}};a.prototype.disable=function(){};a.prototype.destroy=function(){if(this.taskbar!=undefined){this.taskbar.removeMember(this)}var c=window.windows.length;while(c--){if(window.windows[c]===this){window.windows.splice(c,1)}}var b=window.leftbar.length;while(b--){if(window.leftbar[b]===this){window.leftbar.splice(b,1)}}var b=window.rightbar.length;while(b--){if(window.rightbar[b]===this){window.rightbar.splice(b,1)}}var c=window.maximizedWindows.length;while(c--){if(window.maximizedWindows[c]===this){window.maximizedWindows.splice(c,1)}}if(window.activeWindow===this){window.activeWindow=undefined}this.activeOptions={};this.$.fadeOut("fast",function(){$(this).unbind().empty().remove()})};return a})();var Popup=(function(){a.Inherits(Window);function a(f){var e={parent:document.body,id:"popup-id-"+window.windows.length,title:"Alert",position:"average"};if(typeof f=="string"){f={content:f}}else{if(typeof f!="object"){return false}}$.extend(e,f);$(e.parent).append('<div id="'+e.id+'" class="popup window abs-ui" style="display: none;"></div>');var d=this,i={selector:"#"+e.id,title:e.title,content:e.content,minimize:false,maximize:false,close:function(){d.$.fadeOut("fast",function(){$(this).empty().remove()})},menu:false};d.options(i);d.$.css({minWidth:20,minHeight:20,zIndex:9000});switch(e.position){case"mouse":var c=$.mouse.x()-$(".left-wrapper").width()+"px";var h=$.mouse.y()+"px";break;case"center":var c=($(window).width()/2-d.$.width()/2);var h=($(window).height()/2-d.$.height()/2);break;case"average":var b=($(window).width()/2-d.$.width()/2);var g=($(window).height()/2-d.$.height()/2);var c=$.mouse.x()-$(".left-wrapper").width();var h=$.mouse.y();c=(c+b)/2;h=(h+g)/2;break}d.left(c);d.top(h);d.open()}return a})();var Taskbar=(function(){function a(b){var c=this;c.selector=b;c.$=c.jquery=$(c.selector);c.members=new Array();if(!c.$.hasClass("ui-taskbar")){c.$.addClass("ui-taskbar")}return c}a.prototype.refresh=function(){var b=this;b.$.empty();for(var c in b.members){var d=document.createElement("span");d.setAttribute("class",c);d.innerHTML=b.members[c].title;b.members[c].taskbarTab=d;b.members[c].$taskbarTab=$(d);b.members[c].$taskbarTab.data("win",b.members[c]);b.$.get(0).appendChild(d);$(d).hover(function(){var e=b.members[$(this).attr("class").split(" ")[0]];e.$.addClass("ui-window-highlight")},function(){var e=b.members[$(this).attr("class").split(" ")[0]];e.$.removeClass("ui-window-highlight")});$(d).click(function(){var e=b.members[$(this).attr("class").split(" ")[0]];if(e.isClosed){e.open();e.focus()}else{if(e===window.activeWindow||e.isMinimized){e.minToggle()}else{e.focus()}}})}};a.prototype.isMember=function(c){var b=this};a.prototype.addMember=function(c){var b=this;b.members.push(c);b.refresh()};a.prototype.removeMember=function(d){var b=this;for(var c=0;c<b.members.length;c++){if(b.members[c]==d){b.members.splice(c,1);b.refresh()}}};return a})();var Menu=(function(){function a(b){var c=this;c.$=c.jquery=$(c.fragment);c.json=b;c.set(b)}a.prototype.set=function(c){var d=this,b=$("<div/>").addClass("ui-menu");d.fragment=document.createDocumentFragment();d.fragment.appendChild(b.get(0));d.parse(c,b.get(0));d.$=d.jquery=b};a.prototype.parse=function(c,e){var f=this,d;for(var b in c){if(typeof c[b]=="string"){$(e).append(c[b])}else{f[b]=$("<div/>").addClass(c[b].classes?c[b].classes+" "+b:b).html((typeof c[b].content=="function")?c[b].content():c[b].content).appendTo(e).get(0);if(c[b].styles){$(f[b]).attr("style",c[b].styles)}if(typeof c[b].click=="function"){$(f[b]).click(c[b].click)}if(typeof c[b].mouseover=="function"){$(f[b]).mouseover(c[b].mouseover)}if(typeof c[b].mouseout=="function"){$(f[b]).mouseout(c[b].mouseout)}if(c[b].children!=undefined){d=$("<div/>").addClass("ui-submenu").appendTo(f[b]);f.parse(c[b].children,d)}}}return f};a.prototype.destroy=function(){var b=this;$(b.fragment).unbind().empty().remove();b.fragment=null;b.json=null};return a})();var Sidebar=(function(){function a(c){var d=this,b={side:"left",parent:document.body,width:250};this.links=[];this.loaded=false;if(typeof c=="object"){this.options(c)}}a.prototype.check=function(b){var c=this;if(this.side=="left"&&b.$.offset().left){}};a.prototype.linkWindow=function(b){var c=this;this.links[this.links.length]=b};a.prototype.options=function(b){var c=this;switch(b.side){case"left":this.side="left";break;case"right":this.side="right";break;default:return false}this.parent=b.parent;this.width=b.width;this.loaded=true};return a})();function disableSelection(a){if(typeof document.body.onselectstart!="undefined"){document.body.onselectstart=function(){return false}}else{if(typeof document.body.style.MozUserSelect!="undefined"){a.$handle.find(".handle-extend").css({width:"2000px",height:"2000px",bottom:"-992px",right:"-992px"})}else{document.body.onmousedown=function(){return false}}}document.body.style.cursor="default"}function enableSelection(a){a.$handle.find(".handle-extend").css({width:"0px",height:"0px",bottom:"0px",right:"0px"})}function pageMousePosition(a){window.mouse=[a.pageX,a.pageY]}function clientMousePosition(a){window.mouse=[a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop]}function addShadows(c){var b=1;var d=-(9+b);var a='<img class="shadow" src="styles/images/shadow_bottom_405x9.png" width="100%" height="9" style="position: absolute; bottom: '+d+"px; right: -"+b+'px;"></img><img class="shadow" src="styles/images/shadow_right_9x405.png" height="100%" width="9" style="position: absolute; bottom: -'+b+"px; right: "+d+'px;"></img><img class="shadow" src="styles/images/shadow_corner_9x9.png" height="9" width="9" style="position: absolute; bottom: '+d+"px; right: "+d+'px;"></img>';$(c).find(".shadow").remove();$(c).append(a);return $(c).find(".shadow")};